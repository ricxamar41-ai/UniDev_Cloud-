<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>m√≥dulo 1 ‚Äì unidev cloud</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      background-color: #f0f8ff;
      text-align: center;
      text-transform: lowercase;
    }
    h1 {
      font-size: 1.8rem;
      color: #003366;
      margin-bottom: 20px;
    }
    input {
      display: block;
      width: 90%;
      max-width: 300px;
      padding: 12px;
      margin: 10px auto;
      font-size: 1.1rem;
      border-radius: 6px;
      border: 1px solid #333;
    }
    button {
      display: block;
      width: 90%;
      max-width: 300px;
      padding: 15px;
      margin: 10px auto;
      font-size: 1.3rem;
      cursor: pointer;
      border-radius: 8px;
      border: 1px solid #003366;
      background-color: #0066cc;
      color: white;
    }
    #message {
      margin-top: 20px;
      font-size: 1.2rem;
      color: #003366;
      min-height: 30px;
    }
  </style>
</head>
<body>
  <h1>prueba autenticaci√≥n unidev cloud</h1>

  <input type="text" id="username" placeholder="usuario">
  <input type="password" id="password" placeholder="contrase√±a">

  <button id="loginBtn">iniciar sesi√≥n</button>
  <button id="logoutBtn">cerrar sesi√≥n</button>
  <button id="roleBtn">ver rol usuario</button>

  <div id="message"></div>

  <script>
    // base de usuarios dentro del mismo HTML
    const userDB = { admin: { password: "12345", role: "superadmin" } };

    function saveSession(username) { localStorage.setItem("unidev_user", username); }
    function getSession() { return localStorage.getItem("unidev_user"); }

    function login(username, password) {
      if (!username || !password) { return showMessage("‚ö†Ô∏è debes completar todos los campos"); }
      if (userDB[username] && userDB[username].password === password) {
        saveSession(username);
        return showMessage("‚úÖ bienvenido " + username + "!");
      }
      return showMessage("‚ùå usuario o contrase√±a incorrectos");
    }

    function logout() {
      localStorage.removeItem("unidev_user");
      showMessage("üîí sesi√≥n cerrada correctamente");
    }

    function getUserRole() {
      const username = getSession();
      return username && userDB[username] ? userDB[username].role : null;
    }

    function showMessage(msg) {
      document.getElementById("message").innerText = msg.toLowerCase();
    }

    // botones
    document.getElementById("loginBtn").addEventListener("click", function() {
      const u = document.getElementById("username").value.toLowerCase();
      const p = document.getElementById("password").value;
      login(u, p);
    });
    document.getElementById("logoutBtn").addEventListener("click", logout);
    document.getElementById("roleBtn").addEventListener("click", function() {
      showMessage("rol: " + getUserRole());
    });

    // mostrar sesi√≥n activa
    window.addEventListener("load", function() {
      const active = getSession();
      if (active) showMessage("sesi√≥n activa: " + active);
    });
  </script>
</body>
</html>
